import { Component, ElementRef, NgZone, ViewChild } from '@angular/core';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {

  @ViewChild('infoWidget', { static: false }) infoWidget!: ElementRef;
  private destroyListeners: (() => void)[] = [];
  constructor(private ngZone: NgZone) { }
  ngAfterViewInit(): void {
    this.ngZone.runOutsideAngular(() => {
      customElements.whenDefined('ebbp-sdk').then(() => {
        const widget = this.infoWidget.nativeElement as any;
        setTimeout(() => {
          if (widget) {
            widget.accessToken = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZU5vIjoiIiwiYWNjb3VudElkIjoiMjE2NiIsImFjY291bnROYW1lIjoiZnJhbWUgc3VwZXIgZGV2IiwicGVybWlzc2lvbnMiOiJQcm9kdWN0X0FnZW50UHJvZHVjdF9SZWFkLFByb2R1Y3RfQWdlbnRQcm9kdWN0X0NyZWF0ZSxQcm9kdWN0X0FnZW50UHJvZHVjdF9FZGl0LFByb2R1Y3RfQWdlbnRQcm9kdWN0X0RlbGV0ZSxQcm9kdWN0X0JyYW5jaFByb2R1Y3RfUmVhZCxQcm9kdWN0X0JyYW5jaFByb2R1Y3RfQ3JlYXRlLFByb2R1Y3RfQnJhbmNoUHJvZHVjdF9FZGl0LFByb2R1Y3RfQnJhbmNoUHJvZHVjdF9EZWxldGUsT3JkZXJfTWFuYWdlUHJvZHVjdF9SZWFkLE9yZGVyX01hbmFnZVByb2R1Y3RfQ3JlYXRlLE9yZGVyX01hbmFnZVByb2R1Y3RfRWRpdCxPcmRlcl9NYW5hZ2VQcm9kdWN0X0RlbGV0ZSxPcmRlcl9NYW5hZ2VPcmRlcnNfUmVhZCxPcmRlcl9NYW5hZ2VPcmRlcnNfQ3JlYXRlLE9yZGVyX01hbmFnZU9yZGVyc19FZGl0LE9yZGVyX01hbmFnZU9yZGVyc19EZWxldGUsT3JkZXJfQ2hlY2tQYXltZW50X1JlYWQsT3JkZXJfQ2hlY2tQYXltZW50X0NyZWF0ZSxPcmRlcl9DaGVja1BheW1lbnRfRWRpdCxPcmRlcl9DaGVja1BheW1lbnRfRGVsZXRlLE9yZGVyX1ByZXBhcmVQcm9kdWN0c19SZWFkLE9yZGVyX1ByZXBhcmVQcm9kdWN0c19DcmVhdGUsT3JkZXJfUHJlcGFyZVByb2R1Y3RzX0VkaXQsT3JkZXJfUHJlcGFyZVByb2R1Y3RzX0RlbGV0ZSxPcmRlcl9JblRyYW5zaXRfUmVhZCxPcmRlcl9JblRyYW5zaXRfQ3JlYXRlLE9yZGVyX0luVHJhbnNpdF9FZGl0LE9yZGVyX0luVHJhbnNpdF9EZWxldGUsT3JkZXJfU3VjY2Vzc2Z1bGx5RGVsaXZlcmVkX1JlYWQsT3JkZXJfU3VjY2Vzc2Z1bGx5RGVsaXZlcmVkX0NyZWF0ZSxPcmRlcl9TdWNjZXNzZnVsbHlEZWxpdmVyZWRfRWRpdCxPcmRlcl9TdWNjZXNzZnVsbHlEZWxpdmVyZWRfRGVsZXRlLE9yZGVyX0NhbmNlbE9yZGVyX1JlYWQsT3JkZXJfQ2FuY2VsT3JkZXJfQ3JlYXRlLE9yZGVyX0NhbmNlbE9yZGVyX0VkaXQsT3JkZXJfQ2FuY2VsT3JkZXJfRGVsZXRlLFByb21vdGlvbl9NeVByb21vdGlvbl9SZWFkLFByb21vdGlvbl9NeVByb21vdGlvbl9DcmVhdGUsUHJvbW90aW9uX015UHJvbW90aW9uX0VkaXQsUHJvbW90aW9uX015UHJvbW90aW9uX0RlbGV0ZSxDdXN0b21lcl9NYW5hZ2VDdXN0b21lckdyb3VwX1JlYWQsQ3VzdG9tZXJfTWFuYWdlQ3VzdG9tZXJHcm91cF9DcmVhdGUsQ3VzdG9tZXJfTWFuYWdlQ3VzdG9tZXJHcm91cF9FZGl0LEN1c3RvbWVyX01hbmFnZUN1c3RvbWVyR3JvdXBfRGVsZXRlLEN1c3RvbWVyX01hbmFnZUN1c3RvbWVyX1JlYWQsQ3VzdG9tZXJfTWFuYWdlQ3VzdG9tZXJfQ3JlYXRlLEN1c3RvbWVyX01hbmFnZUN1c3RvbWVyX0VkaXQsQ3VzdG9tZXJfTWFuYWdlQ3VzdG9tZXJfRGVsZXRlLFNldHRpbmdGb3JHcm91cF9BZ2VudEN1c3RvbWVyR3JvdXBQcmljZV9SZWFkLFNldHRpbmdGb3JHcm91cF9BZ2VudEN1c3RvbWVyR3JvdXBQcmljZV9DcmVhdGUsU2V0dGluZ0Zvckdyb3VwX0FnZW50Q3VzdG9tZXJHcm91cFByaWNlX0VkaXQsU2V0dGluZ0Zvckdyb3VwX0FnZW50Q3VzdG9tZXJHcm91cFByaWNlX0RlbGV0ZSxTZXR0aW5nRm9yR3JvdXBfQnJhbmNoQ3VzdG9tZXJHcm91cFByaWNlX1JlYWQsU2V0dGluZ0Zvckdyb3VwX0JyYW5jaEN1c3RvbWVyR3JvdXBQcmljZV9DcmVhdGUsU2V0dGluZ0Zvckdyb3VwX0JyYW5jaEN1c3RvbWVyR3JvdXBQcmljZV9FZGl0LFNldHRpbmdGb3JHcm91cF9CcmFuY2hDdXN0b21lckdyb3VwUHJpY2VfRGVsZXRlLEJyYW5jaF9CcmFuY2hBZ2VudF9SZWFkLEJyYW5jaF9CcmFuY2hBZ2VudF9DcmVhdGUsQnJhbmNoX0JyYW5jaEFnZW50X0VkaXQsQnJhbmNoX0JyYW5jaEFnZW50X0RlbGV0ZSxIaXN0b3J5T3JkZXJfSGlzdG9yeU9yZGVyX1JlYWQsSGlzdG9yeU9yZGVyX0hpc3RvcnlPcmRlcl9DcmVhdGUsSGlzdG9yeU9yZGVyX0hpc3RvcnlPcmRlcl9FZGl0LEhpc3RvcnlPcmRlcl9IaXN0b3J5T3JkZXJfRGVsZXRlLEFnZW50X0FnZW50RGV0YWlsX1JlYWQsQWdlbnRfQWdlbnREZXRhaWxfQ3JlYXRlLEFnZW50X0FnZW50RGV0YWlsX0VkaXQsQWdlbnRfQWdlbnREZXRhaWxfRGVsZXRlLERhc2hib2FyZF9EYXNoYm9hcmRfUmVhZCxEYXNoYm9hcmRfRGFzaGJvYXJkX0NyZWF0ZSxEYXNoYm9hcmRfRGFzaGJvYXJkX0VkaXQsRGFzaGJvYXJkX0Rhc2hib2FyZF9EZWxldGUsRGFzaGJvYXJkX1Byb2R1Y3RSYW5raW5nX1JlYWQsRGFzaGJvYXJkX1Byb2R1Y3RSYW5raW5nX0NyZWF0ZSxEYXNoYm9hcmRfUHJvZHVjdFJhbmtpbmdfRWRpdCxEYXNoYm9hcmRfUHJvZHVjdFJhbmtpbmdfRGVsZXRlLFNldHRpbmdfU2V0dGluZ1Byb2ZpbGVfUmVhZCxTZXR0aW5nX1NldHRpbmdQcm9maWxlX0NyZWF0ZSxTZXR0aW5nX1NldHRpbmdQcm9maWxlX0VkaXQsU2V0dGluZ19TZXR0aW5nUHJvZmlsZV9EZWxldGUsU2V0dGluZ19TZXR0aW5nUGF5bWVudF9SZWFkLFNldHRpbmdfU2V0dGluZ1BheW1lbnRfQ3JlYXRlLFNldHRpbmdfU2V0dGluZ1BheW1lbnRfRWRpdCxTZXR0aW5nX1NldHRpbmdQYXltZW50X0RlbGV0ZSxTZXR0aW5nX1NldHRpbmdBZ2VudERlbGl2ZXJ5X1JlYWQsU2V0dGluZ19TZXR0aW5nQWdlbnREZWxpdmVyeV9DcmVhdGUsU2V0dGluZ19TZXR0aW5nQWdlbnREZWxpdmVyeV9FZGl0LFNldHRpbmdfU2V0dGluZ0FnZW50RGVsaXZlcnlfRGVsZXRlLFNldHRpbmdfU2V0dGluZ1dhcmVob3VzZV9SZWFkLFNldHRpbmdfU2V0dGluZ1dhcmVob3VzZV9DcmVhdGUsU2V0dGluZ19TZXR0aW5nV2FyZWhvdXNlX0VkaXQsU2V0dGluZ19TZXR0aW5nV2FyZWhvdXNlX0RlbGV0ZSxTZXR0aW5nX1NldHRpbmdSZWdpb25fUmVhZCxTZXR0aW5nX1NldHRpbmdSZWdpb25fQ3JlYXRlLFNldHRpbmdfU2V0dGluZ1JlZ2lvbl9FZGl0LFNldHRpbmdfU2V0dGluZ1JlZ2lvbl9EZWxldGUsU2V0dGluZ19NYW5hZ2VBZ2VudFVzZXJfUmVhZCxTZXR0aW5nX01hbmFnZUFnZW50VXNlcl9DcmVhdGUsU2V0dGluZ19NYW5hZ2VBZ2VudFVzZXJfRWRpdCxTZXR0aW5nX01hbmFnZUFnZW50VXNlcl9EZWxldGUsQ3VzdG9tZXJSZXF1ZXN0X0JpbGxPZlF1YW50aXRpZXNfUmVhZCxDdXN0b21lclJlcXVlc3RfQmlsbE9mUXVhbnRpdGllc19DcmVhdGUsQ3VzdG9tZXJSZXF1ZXN0X0JpbGxPZlF1YW50aXRpZXNfRWRpdCxDdXN0b21lclJlcXVlc3RfQmlsbE9mUXVhbnRpdGllc19EZWxldGUsQ3VzdG9tZXJSZXF1ZXN0X1F1b3RhdGlvbl9SZWFkLEN1c3RvbWVyUmVxdWVzdF9RdW90YXRpb25fQ3JlYXRlLEN1c3RvbWVyUmVxdWVzdF9RdW90YXRpb25fRWRpdCxDdXN0b21lclJlcXVlc3RfUXVvdGF0aW9uX0RlbGV0ZSxDdXN0b21lclJlcXVlc3RfQXBwcm92ZVF1b3RhdGlvbl9SZWFkLEN1c3RvbWVyUmVxdWVzdF9BcHByb3ZlUXVvdGF0aW9uX0NyZWF0ZSxDdXN0b21lclJlcXVlc3RfQXBwcm92ZVF1b3RhdGlvbl9FZGl0LEN1c3RvbWVyUmVxdWVzdF9BcHByb3ZlUXVvdGF0aW9uX0RlbGV0ZSxDcmVkaXRfQ3JlZGl0UmVxdWVzdF9SZWFkLENyZWRpdF9DcmVkaXRSZXF1ZXN0X0NyZWF0ZSxDcmVkaXRfQ3JlZGl0UmVxdWVzdF9FZGl0LENyZWRpdF9DcmVkaXRSZXF1ZXN0X0RlbGV0ZSxDcmVkaXRfQ3JlZGl0VmVyaWZ5UmVxdWVzdF9SZWFkLENyZWRpdF9DcmVkaXRWZXJpZnlSZXF1ZXN0X0NyZWF0ZSxDcmVkaXRfQ3JlZGl0VmVyaWZ5UmVxdWVzdF9FZGl0LENyZWRpdF9DcmVkaXRWZXJpZnlSZXF1ZXN0X0RlbGV0ZSxIaXN0b3J5T3JkZXJfSGlzdG9yeVByb2R1Y3RPcmRlcl9SZWFkLEhpc3RvcnlPcmRlcl9IaXN0b3J5UHJvZHVjdE9yZGVyX0NyZWF0ZSxIaXN0b3J5T3JkZXJfSGlzdG9yeVByb2R1Y3RPcmRlcl9FZGl0LEhpc3RvcnlPcmRlcl9IaXN0b3J5UHJvZHVjdE9yZGVyX0RlbGV0ZSxDcmVkaXRfQ3JlZGl0T3ZlcnZpZXdfUmVhZCxDcmVkaXRfQ3JlZGl0T3ZlcnZpZXdfQ3JlYXRlLENyZWRpdF9DcmVkaXRPdmVydmlld19FZGl0LENyZWRpdF9DcmVkaXRPdmVydmlld19EZWxldGUsQ3JlZGl0X0NyZWRpdEFnZW50X1JlYWQsQ3JlZGl0X0NyZWRpdEFnZW50X0NyZWF0ZSxDcmVkaXRfQ3JlZGl0QWdlbnRfRWRpdCxDcmVkaXRfQ3JlZGl0QWdlbnRfRGVsZXRlLENyZWRpdF9DcmVkaXRVc2VkX1JlYWQsQ3JlZGl0X0NyZWRpdFVzZWRfQ3JlYXRlLENyZWRpdF9DcmVkaXRVc2VkX0VkaXQsQ3JlZGl0X0NyZWRpdFVzZWRfRGVsZXRlLENyZWRpdF9DcmVkaXRDdXN0b21lcl9SZWFkLENyZWRpdF9DcmVkaXRDdXN0b21lcl9DcmVhdGUsQ3JlZGl0X0NyZWRpdEN1c3RvbWVyX0VkaXQsQ3JlZGl0X0NyZWRpdEN1c3RvbWVyX0RlbGV0ZSxDcmVkaXRfQ3JlZGl0VmVyaWZ5UGF5bWVudF9SZWFkLENyZWRpdF9DcmVkaXRWZXJpZnlQYXltZW50X0NyZWF0ZSxDcmVkaXRfQ3JlZGl0VmVyaWZ5UGF5bWVudF9FZGl0LENyZWRpdF9DcmVkaXRWZXJpZnlQYXltZW50X0RlbGV0ZSxDcmVkaXRfQ3JlZGl0TWFuZ2VQZW5hbHR5X1JlYWQsQ3JlZGl0X0NyZWRpdE1hbmdlUGVuYWx0eV9DcmVhdGUsQ3JlZGl0X0NyZWRpdE1hbmdlUGVuYWx0eV9FZGl0LENyZWRpdF9DcmVkaXRNYW5nZVBlbmFsdHlfRGVsZXRlLFBheW1lbnRSZXBvcnRfUGF5bWVudFJlcG9ydE9yZGVyX1JlYWQsUGF5bWVudFJlcG9ydF9QYXltZW50UmVwb3J0T3JkZXJfQ3JlYXRlLFBheW1lbnRSZXBvcnRfUGF5bWVudFJlcG9ydE9yZGVyX0VkaXQsUGF5bWVudFJlcG9ydF9QYXltZW50UmVwb3J0T3JkZXJfRGVsZXRlLFBheW1lbnRSZXBvcnRfUGF5bWVudFJlcG9ydEFnZW50X1JlYWQsUGF5bWVudFJlcG9ydF9QYXltZW50UmVwb3J0QWdlbnRfQ3JlYXRlLFBheW1lbnRSZXBvcnRfUGF5bWVudFJlcG9ydEFnZW50X0VkaXQsUGF5bWVudFJlcG9ydF9QYXltZW50UmVwb3J0QWdlbnRfRGVsZXRlLFBheW1lbnRGaW5hbmNlUmVwb3J0X1JlcG9ydEJpbGxpbmdfUmVhZCxQYXltZW50RmluYW5jZVJlcG9ydF9SZXBvcnRCaWxsaW5nX0NyZWF0ZSxQYXltZW50RmluYW5jZVJlcG9ydF9SZXBvcnRCaWxsaW5nX0VkaXQsUGF5bWVudEZpbmFuY2VSZXBvcnRfUmVwb3J0QmlsbGluZ19EZWxldGUsUGF5bWVudEZpbmFuY2VSZXBvcnRfUmVwb3J0UGF5b3V0X1JlYWQsUGF5bWVudEZpbmFuY2VSZXBvcnRfUmVwb3J0UGF5b3V0X0NyZWF0ZSxQYXltZW50RmluYW5jZVJlcG9ydF9SZXBvcnRQYXlvdXRfRWRpdCxQYXltZW50RmluYW5jZVJlcG9ydF9SZXBvcnRQYXlvdXRfRGVsZXRlLFBheW1lbnRGaW5hbmNlUmVwb3J0X1JlcG9ydEludm9pY2VfUmVhZCxQYXltZW50RmluYW5jZVJlcG9ydF9SZXBvcnRJbnZvaWNlX0NyZWF0ZSxQYXltZW50RmluYW5jZVJlcG9ydF9SZXBvcnRJbnZvaWNlX0VkaXQsUGF5bWVudEZpbmFuY2VSZXBvcnRfUmVwb3J0SW52b2ljZV9EZWxldGUiLCJhZ2VudElkIjoiMTQxIiwiYWdlbnRVc2VySWQiOiIxOTEiLCJicmFuY2hJZHMiOiIxMjkiLCJuYmYiOjE3NTg1MjM4MTksImV4cCI6MTc1ODUyNzQxOSwiaWF0IjoxNzU4NTIzODE5fQ.mC9JHQKxm5nRoNX9wCfR5CpRkUA6dpPIhAiGK7p-Dtw"
            widget.version = '0.0.8'
          }
        }, 300);
      });
    });
  }
  ngOnDestroy(): void {
    this.destroyListeners.forEach(destroy => destroy());
  }

}
